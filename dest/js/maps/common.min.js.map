{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","nav","resize","innerWidth","visibleOnly","threshold","effect","effectTime","navButton","overlay","click","scrollLock","addClass","fadeIn","hide","removeClass","fadeOut","show","css","toggleClass","event","stateCheck","mobileLink","window","landingScroll","headerHeight","height","body","scrollLink","desctopLink","scroll","hasClass","each","window_top","scrollTop","div_1","this","attr","length","offset","top","div_top","blockHeight","find","id","preventDefault","is","target","animate","setTimeout"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,OADAF,QAEAG,EAAAA,QAAGC,OAAA,WAFLC,WAAAN,EAAA,QAAAM,eASA,IAAIA,WAAaN,EAAE,QAAQM,aAKzBN,SAAEG,OACAI,EAAAA,SAAAA,KAAa,CACbC,aAFc,EAGdC,UAAQ,GACRC,OAAAA,SAJFA,WAAA,QAUA,SAAIC,MAAJ,IACIP,EAAQJ,EAAA,sCACRY,EAAAA,EAAO,eAEXD,EAAUE,EAAM,oBAYZF,SAAAA,IACAC,EAAAA,SAAA,sBACAE,EAAUC,SAAQ,wBAClBf,EAACgB,OAAa,KAJhBF,WAKOG,KAAAjB,EAAA,SACLW,EAAAA,QAAUO,IAAAA,WAAY,YAEtBJ,EAAUI,YAAQ,wBAClBlB,EAACmB,QAAa,KACfL,WAAAM,KAAApB,EAAA,SACFA,EAAA,QAAAqB,IAAA,WAAA,YApBCjB,EAAIkB,MAAAA,SAAYC,GAChBC,EAAAA,iBAHFpB,EAAAkB,YAAA,qBAKAG,MAEED,WAAAA,MAAU,WAFZpB,EAAAc,YAAA,qBAEEM,MAiBAxB,EAAA0B,QAAGpB,OAAU,WACPY,IAAJd,aACAoB,EAAAA,YAAU,qBACXA,OAIL,SAASG,gBACP,IAAIC,EAAe5B,EAAE,WAAW6B,SAC5BC,EAAO9B,EAAE,QACT+B,EAAa/B,EAAE,gBACfgC,EAAchC,EAAE,cAgBbA,EAAA0B,QAAAO,OAAA,WAbLH,EAAOI,SAAJ,cACDH,EAAWI,KAAK,WACd,IAAIC,EAAapC,EAAE0B,QAAQW,YACvBC,EAAQtC,EAAEuC,MAAMC,KAAK,QACzB,GAAqB,EAAlBxC,EAAEsC,GAAOG,OAAY,CAAxB,IAAKH,EAAOG,EAAAA,GAAYC,SAAAC,IAClBC,EAAYN,EAAAA,GAAOI,SACL1C,EAAS6B,EAAvBgB,GAAJT,EAAAQ,EAAAhB,EAAAiB,GAEE7C,EAAE,cAAc8C,KAAK,KAAK5B,YAAY,sBADxClB,EAAIoC,cAAcQ,KAAAA,WAAUhB,EAAxB,MAAyCQ,SAAU,uBAErDpC,EAAE,cAAc8C,KAAK,WAAAR,EAAWA,MAAMpB,YAAtC,2BAOTa,EAAAlB,MAAA,SAAAU,GAKC,IAAIwB,EAAM/C,EAAEuC,MAAMC,KAAK,QAJvBd,EAAQO,EAAAA,GAAOS,SAAAC,IAAUf,EAAA,EACzBK,EAAMe,iBADRjB,EAAAb,YAAA,oBAGAa,EAAAA,MAAUhB,SAAO,oBAEX4B,WAAMM,GAAMP,EAANQ,QACV3B,WAAMyB,WACNjB,EAAAA,aAAWb,QAAY,CAAAmB,UAAAM,GAAvB,MACE,KAMSX,EAAYiB,GAAG1B,EAAM2B,UAJhClD,EAAIyB,aAAA0B,QAAoBD,CAAAA,UAASP,GAAA,KAC/BS,EAAAA,SAAW,aACTpD,WAAE,WAAsBqC,EAAAA,YAAWM,cAAnC","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//mobile nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button, .mobile-nav__close'),\r\n      nav = $('.mobile-nav'),\r\n      overlay = $('.header__overlay');\r\n\r\n  navButton.click(function(event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n  mobileLink.click(function() {\r\n    nav.removeClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n\r\n  function stateCheck() {\r\n    if(nav.hasClass('mobile-nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').css('overflow', 'hidden')\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').css('overflow', 'visible')\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if(innerWidth>768) {\r\n      nav.removeClass('mobile-nav_active');\r\n      stateCheck();\r\n    }\r\n  });\r\n}\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  var headerHeight = $(\".header\").height();\r\n  var body = $(\"body\");\r\n  var scrollLink = $('.scroll-link')\r\n  var desctopLink = $(\".nav__link\");\r\n\r\n  function scroll() {\r\n    if(body.hasClass(\"in-scroll\")) {} else {\r\n      scrollLink.each(function () {\r\n        var window_top = $(window).scrollTop();\r\n        var div_1 = $(this).attr('href');\r\n        if($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top;\r\n          var blockHeight = $(div_1).height();\r\n          if (window_top > (div_top - headerHeight) && window_top < (div_top - headerHeight) + blockHeight){\r\n            $('.nav__item').find('a').removeClass('scroll-link_active');\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').addClass('scroll-link_active');\r\n          } else {\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').removeClass('scroll-link_active');\r\n          };\r\n        }\r\n      });\r\n    }\r\n  }\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n  scrollLink.click(function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top - headerHeight + 1;\r\n    event.preventDefault();\r\n    scrollLink.removeClass('nav__link_active');\r\n    $(this).addClass('nav__link_active');\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function() {\r\n        $('body,html').animate({scrollTop: top}, 400);\r\n      }, 300)\r\n    } else if (desctopLink.is(event.target)) {\r\n      $('body,html').animate({scrollTop: top}, 400);\r\n      body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n    }\r\n  })\r\n}"]}