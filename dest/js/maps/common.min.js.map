{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","nav","Slider","landingScroll","mask","resize","innerWidth","mobileLink","scrollLink","overlay","visibleOnly","threshold","effect","effectTime","navButton","click","scrollLock","addClass","fadeIn","removeClass","fadeOut","show","toggleClass","event","navState","on","hasClass","popup","openButton","closePopup","opacity","find","preventDefault","index","attr","this","parents","animate","removeAttr","eq","css","closeButton","setTimeout","offset","top","is","target","scrollTop","checkInit","window","flag","slick","slider1","slider2","arrows","slidesToScroll","slidesToShow","dots","mobileFirst","responsive","breakpoint","settings","adaptiveHeight","sliderInit"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n  Slider();\r\n  landingScroll();\r\n  popup();\r\n  $(\".phone-input\").mask(\"+7 (999) 999-9999\");\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n  mobileLink = $('.mobile-nav__link'),\r\n  scrollLink = $('.scroll-link'),\r\n  overlay = $('.overlay');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button'),\r\n    nav = $('.mobile-nav');\r\n\r\n  navButton.click(function (event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('mobile-nav_active');\r\n    navState();\r\n  })\r\n\r\n  mobileLink.click(function () {\r\n    nav.removeClass('mobile-nav_active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if (nav.hasClass('mobile-nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').addClass('body_hidden').addClass('body_active')\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').removeClass('body_hidden').removeClass('body_active');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 767) {\r\n      nav.removeClass('mobile-nav_active');\r\n      navState();\r\n    }\r\n  });\r\n\r\n\r\n  overlay.on('click', function () {\r\n    if (nav.hasClass('mobile-nav_active')) {\r\n      nav.removeClass('mobile-nav_active');\r\n      navState();\r\n    }\r\n  })\r\n}\r\n\r\nfunction popup() {\r\n  var openButton = $('.popup-link');\r\n  var closeButton = $('.popup__close-button, .popup__close');\r\n  var popup = $('.popup');\r\n\r\n  function closePopup() {\r\n    popup \r\n      .animate({opacity: 0}, 300, \r\n        function(){ \r\n          $(this).css('display', 'none');\r\n      });\r\n    $('body').css('overflow', 'visible');\r\n  }\r\n\r\n  openButton.click( function(event){\r\n    event.preventDefault();\r\n    var index = $(this).parents('.catalogue-block').index();\r\n    console.log(index);\r\n    $('#modal1').find('.form__option').removeAttr('selected');\r\n    $('#modal1').find('.form__option').eq(index).attr('selected', 'selected');\r\n    $($(this).attr('href')).css('display', 'block').animate({opacity: 1}, 300);\r\n    $('body').css('overflow', 'hidden');\r\n  });\r\n\r\n  closeButton.click( function(){\r\n    closePopup();\r\n  });\r\n\r\n}\r\n\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  })\r\n}\r\n\r\n//слайдеры\r\nfunction Slider() {\r\n  var slider1 = $('.advantages-slider');\r\n  var slider2 = $('.reviews-slider');\r\n  var flag = true;\r\n\r\n  checkInit();\r\n\r\n  $(window).resize(function () {\r\n    checkInit();\r\n  });\r\n\r\n  function checkInit() {\r\n    if (innerWidth < 768) {\r\n      if (flag == true) {\r\n        sliderInit();\r\n        flag = false;\r\n      }\r\n    } else {\r\n      if (flag == false) {\r\n        slider1.slick('unslick');\r\n        slider2.slick('unslick');\r\n        flag = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  function sliderInit() {\r\n    slider1.slick({\r\n      arrows: true,\r\n      slidesToScroll: 1,\r\n      slidesToShow: 1,\r\n      dots: false,\r\n      adaptiveHeight: true\r\n    });\r\n    slider2.slick({\r\n      arrows: true,\r\n      slidesToScroll: 1,\r\n      slidesToShow: 1,\r\n      dots: false,\r\n      adaptiveHeight: true,\r\n      mobileFirst: true,\r\n      responsive: [{\r\n          breakpoint: 0,\r\n          settings: {\r\n            slidesToShow: 1\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: 2\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  slider1.on('beforeChange', function () {\r\n    lazy();\r\n  });\r\n  slider1.on('afterChange', function () {\r\n    lazy();\r\n  });\r\n  slider2.on('beforeChange', function () {\r\n    lazy();\r\n  });\r\n  slider2.on('afterChange', function () {\r\n    lazy();\r\n  });\r\n}"]}